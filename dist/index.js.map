{
  "version": 3,
  "sources": ["..\\node_modules\\mitt\\dist\\mitt.mjs", "..\\src\\index.ts"],
  "sourcesContent": [
    "export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n",
    "import mitt from 'mitt'\n\nexport class CssSurveyor {\n    #connected: HTMLElement | undefined\n    #element = document.createElement('div')\n    #observer: ResizeObserver = new ResizeObserver(({ 0: { contentRect: { width, height } } }) => {\n        if (this.#widthExpr && (this.#width !== width))\n            this.#events.emit('widthChanged', this.#width = width)\n        if (this.#heightExpr && (this.#height !== height))\n            this.#events.emit('heightChanged', this.#height = height)\n    })\n    #width = 0\n    #height = 0\n    #widthExpr: string | undefined\n    #heightExpr: string | undefined\n    #appended = false\n    #events = mitt<{ widthChanged: number; heightChanged: number }>()\n\n    constructor(connectTo?: HTMLElement | string | null) {\n        const { style } = this.#element\n        style.position = 'absolute'\n        style.visibility = 'hidden'\n        style.pointerEvents = 'none'\n        if (connectTo !== null) this.connect(connectTo)\n    }\n\n    connect(elemOrSelector?: HTMLElement | string) {\n        const elem = elemOrSelector\n            ? typeof elemOrSelector === 'string'\n                ? document.querySelector<HTMLElement>(elemOrSelector)\n                : elemOrSelector instanceof HTMLElement ? elemOrSelector : undefined\n            : document.body\n        if (!elem) throw new ReferenceError(elem === null\n            ? `CssSurveyor: Can't find ${elemOrSelector}`\n            : 'CssSurveyor: Trying to connect an object that is not an HTMLElement')\n        if (this.#connected === elem) return\n        this.disconnect()\n        this.#connected = elem\n        this.#updateMeasurement()\n    }\n\n    get connected() { return this.#connected }\n    get events() { return this.#events }\n\n    get widthExpr() { return this.#widthExpr }\n    set widthExpr(value) {\n        this.#widthExpr = value\n        this.#updateMeasurement()\n    }\n\n    get heightExpr() { return this.#heightExpr }\n    set heightExpr(value) {\n        this.#heightExpr = value\n        this.#updateMeasurement()\n    }\n\n    get width() { return this.#width }\n    get height() { return this.#height }\n\n    remeasure() {\n        if (!this.#appended) return\n        if (this.#widthExpr) {\n            const { offsetWidth: width } = this.#element\n            if (this.#width !== width) this.events.emit('widthChanged', this.#width = width)\n        }\n        if (this.#heightExpr) {\n            const { offsetHeight: height } = this.#element\n            if (this.#height !== height) this.events.emit('heightChanged', this.#height = height)\n        }\n    }\n\n    cleanup() {\n        this.disconnect()\n        this.events.all.clear()\n    }\n\n    disconnect() {\n        if (!this.#connected) return\n        this.#observer.disconnect()\n        this.#connected.removeChild(this.#element)\n        this.#connected = undefined\n        this.#appended = false\n        this.#width = 0\n        this.#height = 0\n    }\n\n    #updateMeasurement() {\n        const elem = this.#element, wExpr = this.#widthExpr, hExpr = this.#heightExpr\n        if (wExpr) elem.style.width = wExpr\n        if (hExpr) elem.style.height = hExpr\n        const container = this.#connected\n        if (!container) return\n        const shouldAppend = Boolean(wExpr || hExpr)\n        if (this.#appended !== shouldAppend)\n            if (this.#appended = shouldAppend) {\n                container.appendChild(elem)\n                this.#observer.observe(elem)\n            } else {\n                container.removeChild(elem)\n                this.#observer.disconnect()\n            }\n        this.remeasure()\n    }\n}"
  ],
  "mappings": "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",
  "debugId": "76B71AE857B4696264756E2164756E21",
  "names": []
}